<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>VoronoiMap - Street Fractal</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="dndList.css">
    <link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700;900&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
</head>
<body>
    <div class="text-white sidebar p-0">
        <button id="slider-button">|</button>
        <div class="overflow-auto scrollable p-4">

            <div class="title text-center pb-3">
                <h1>Voronoi Map</h1>
                <h2>Street Fractal</h2>
            </div>

            <div class="setting ">
                <h3><label for="seed-input">Seed</label></h3>
                <div class="input-group">
                    <input id="seed-input" class="form-control form-group input-group" type="text" placeholder='for example, "capybara"'>
                    <button type="submit" class="input-group-append btn btn-secondary" id="random-seed-button">Random</button>
                    <button type="submit" class="input-group-append btn btn-dark" id="set-seed-button">Set</button>
                </div>
            </div>

            <div class="setting">
                <h3>Map type</h3>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="mapType" id="mapType1" checked>
                    <label class="form-check-label" for="mapType1">
                        Infinite
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="mapType" id="mapType2">
                    <label class="form-check-label" for="mapType2">
                        Finite
                    </label>
                </div>
            </div>

            <div class="setting">
                <h3>Levels:</h3>
                <ul id="sortlist" class="list-group">
                    <li class="list-group-item">First</li>
                    <li class="list-group-item">Second</li>
                    <li class="list-group-item">Third</li>
                    <li class="list-group-item">Fourth</li>
                    <li class="list-group-item">Fifth</li>
                </ul>
                <button class="slist-li slist-add">
                    Add
                </button>
            </div>
        </div>




    </div>
    <div class="main-content">
        <canvas id="voronoiMap" width="800" height="600"></canvas>
    </div>

    <div class="pointCircle" id="pointCircle"></div>
    <script type="module" src="voronoiMap.js"></script>
    <script>
        const sidebar = document.querySelector('.sidebar');
        const button = sidebar.querySelector('button');
        button.onclick = function () {
            sidebar.classList.toggle('sidebar_small');
            button.classList.toggle('button_collapsed');
        }
    </script>
    <script src="dndList.js"></script>
    <script>
        window.addEventListener("DOMContentLoaded", () => {
            slist(document.getElementById("sortlist"));
        });

        const pointCircleBase = document.querySelector('#pointCircle');
        function point(x, y){
            let pointCircle = pointCircleBase.cloneNode(true);
            pointCircleBase.parentNode.appendChild(pointCircle);
            pointCircle.style.left = x + 'px';
            pointCircle.style.top = y + 'px';
            pointCircle.classList.add('animated');
            setTimeout(() => {
                pointCircle.parentNode.removeChild(pointCircle);
            }, 1000);
        }
        function pointObj(o){
            point(o.x, o.y);
        }
        function pointAll(arr){
            arr.forEach(pointObj);
        }
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>

</body>
</html>